<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>English Learning Pro 2025</title>
    <style>
        :root { --p: #6c5ce7; --bg: #f0f2f5; --txt: #2d3436; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--txt); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; transition: 0.3s; }
        .container { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 400px; text-align: center; }
        
        /* –ú–µ–Ω—é */
        .menu-btn { width: 100%; padding: 12px; margin: 5px 0; border: none; border-radius: 10px; background: var(--p); color: white; cursor: pointer; font-weight: bold; }
        .menu-btn:hover { filter: brightness(1.1); }

        /* –ò–≥—Ä–∞ */
        .stats { display: flex; justify-content: space-between; font-weight: bold; margin-bottom: 20px; font-size: 14px; }
        .word-display { font-size: 32px; letter-spacing: 5px; margin: 25px 0; color: var(--p); text-transform: uppercase; font-weight: bold; }
        .grammar-text { font-size: 18px; margin: 25px 0; line-height: 1.4; color: #444; }
        input { width: 80%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 18px; text-align: center; outline: none; }
        
        .action-btn { padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; margin-top: 15px; font-weight: bold; }
        .check { background: #2ecc71; color: white; width: 85%; }
        .hint { background: #f1c40f; color: white; margin-right: 5px; }
        
        .hidden { display: none; }
        #message { margin-top: 15px; font-weight: bold; min-height: 20px; }

        /* –°–∫–∏–Ω—ã */
        .shop { margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px; }
        .skin-dot { width: 20px; height: 20px; display: inline-block; border-radius: 50%; cursor: pointer; margin: 0 5px; border: 2px solid #ddd; }
    </style>
</head>
<body>

<!-- –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ -->
<div id="main-menu" class="container">
    <h1>English 2025</h1>
    <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É:</p>
    <button class="menu-btn" onclick="start('Jobs')">üíº –ü—Ä–æ—Ñ–µ—Å—Å–∏–∏ (Jobs)</button>
    <button class="menu-btn" onclick="start('Environment')">üåç –ü—Ä–∏—Ä–æ–¥–∞ (Environment)</button>
    <button class="menu-btn" onclick="start('Tourism')">‚úàÔ∏è –¢—É—Ä–∏–∑–º (Tourism)</button>
    <button class="menu-btn" onclick="start('Weather')">‚òÄÔ∏è –ü–æ–≥–æ–¥–∞ (Weather)</button>
    <button class="menu-btn" onclick="start('Grammar')">üìù –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ (Grammar)</button>
</div>

<!-- –ò–ì–†–û–í–û–ô –≠–ö–†–ê–ù -->
<div id="game-screen" class="container hidden">
    <div class="stats">
        <span>ü™ô –ú–æ–Ω–µ—Ç—ã: <span id="coins">0</span></span>
        <span>–¢–µ–º–∞: <span id="current-topic">...</span></span>
    </div>

    <div id="task-text" style="color: #666; font-size: 14px;">–†–∞–∑–≥–∞–¥–∞–π —Å–ª–æ–≤–æ:</div>
    <div id="display-area"></div>

    <input type="text" id="user-input" placeholder="–í–∞—à –æ—Ç–≤–µ—Ç..." autocomplete="off">
    <button class="action-btn check" onclick="checkAnswer()">–ü–†–û–í–ï–†–ò–¢–¨</button>
    <br>
    <button class="action-btn hint" onclick="useHint()">–ü–æ–¥—Å–∫–∞–∑–∫–∞ (-15 ü™ô)</button>
    <button class="action-btn" onclick="location.reload()" style="background:#95a5a6; color:white;">–í –ú–ï–ù–Æ</button>

    <div id="message"></div>

    <div class="shop">
        <span style="font-size: 12px;">–°–∫–∏–Ω—ã (50 ü™ô):</span><br>
        <span class="skin-dot" style="background: white;" onclick="changeSkin('white', '#2d3436')"></span>
        <span class="skin-dot" style="background: #2d3436;" onclick="changeSkin('#2d3436', 'white', 50)"></span>
        <span class="skin-dot" style="background: #fab1a0;" onclick="changeSkin('#fab1a0', '#2d3436', 50)"></span>
    </div>
</div>

<script>
    // –ë–ê–ó–ê –î–ê–ù–ù–´–•
    const DB = {
        "Jobs": ["engineer", "developer", "architect", "surgeon", "pharmacist", "journalist", "accountant", "plumber", "electrician", "waiter", "scientist", "lawyer", "pilot", "nurse", "artist"],
        "Environment": ["pollution", "sustainability", "recycling", "ecosystem", "deforestation", "glacier", "renewable", "atmosphere", "wildlife", "greenhouse", "biodiversity", "ecology"],
        "Tourism": ["itinerary", "sightseeing", "destination", "souvenir", "passport", "accommodation", "landmark", "excursion", "backpacking", "reservation", "adventure", "booking"],
        "Weather": ["thunderstorm", "humidity", "forecast", "blizzard", "hurricane", "drought", "temperature", "overcast", "lightning", "rainbow", "freezing", "scorching"],
        "Grammar": [
            {q: "I ___ (be) a student", a: "am"},
            {q: "She ___ (go) to school every day", a: "goes"},
            {q: "They ___ (watch) TV now", a: "are watching"},
            {q: "___ apple a day keeps the doctor away", a: "an"},
            {q: "He is ___ (good) than me", a: "better"},
            {q: "We ___ (not / like) winter", a: "don't like"},
            {q: "Look! The cat ___ (sleep)", a: "is sleeping"}
        ]
    };

    let coins = 0;
    let currentTopic = "";
    let correctAnswer = "";
    let isGrammar = false;

    // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è (–∫–∞–∫ shuffle –≤ Python)
    function scramble(word) {
        let a = word.split(""), n = a.length;
        for(let i = n - 1; i > 0; i--) {
            let j = Math.floor(Math.random() * (i + 1));
            [a[i], a[j]] = [a[j], a[i]];
        }
        return a.join("") === word ? scramble(word) : a.join("");
    }

    function start(topic) {
        currentTopic = topic;
        document.getElementById('main-menu').classList.add('hidden');
        document.getElementById('game-screen').classList.remove('hidden');
        document.getElementById('current-topic').innerText = topic;
        nextQuestion();
    }

    function nextQuestion() {
        const area = document.getElementById('display-area');
        const task = document.getElementById('task-text');
        const input = document.getElementById('user-input');
        const msg = document.getElementById('message');
        
        input.value = "";
        msg.innerText = "";

        if (currentTopic === "Grammar") {
            isGrammar = true;
            let item = DB.Grammar[Math.floor(Math.random() * DB.Grammar.length)];
            correctAnswer = item.a;
            task.innerText = "–ó–∞–ø–æ–ª–Ω–∏ –ø—Ä–æ–ø—É—Å–∫ (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞):";
            area.innerHTML = `<div class="grammar-text">${item.q}</div>`;
        } else {
            isGrammar = false;
            let word = DB[currentTopic][Math.floor(Math.random() * DB[currentTopic].length)];
            correctAnswer = word;
            task.innerText = "–†–∞–∑–≥–∞–¥–∞–π —Å–ª–æ–≤–æ (–∞–Ω–∞–≥—Ä–∞–º–º–∞):";
            area.innerHTML = `<div class="word-display">${scramble(word)}</div>`;
        }
    }

    function checkAnswer() {
        const val = document.getElementById('user-input').value.toLowerCase().trim();
        const msg = document.getElementById('message');

        if (val === correctAnswer.toLowerCase()) {
            coins += 20;
            document.getElementById('coins').innerText = coins;
            msg.style.color = "#2ecc71";
            msg.innerText = "–í–ï–†–ù–û! +20 ü™ô";
            setTimeout(nextQuestion, 1200);
        } else {
            msg.style.color = "#e74c3c";
            msg.innerText = "–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!";
        }
    }

    function useHint() {
        if (coins >= 15) {
            coins -= 15;
            document.getElementById('coins').innerText = coins;
            alert("–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ ‚Äî " + correctAnswer[0].toUpperCase());
        } else {
            alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!");
        }
    }

    function changeSkin(bg, txt, price = 0) {
        if (coins >= price) {
            if (price > 0) coins -= price;
            document.getElementById('coins').innerText = coins;
            document.body.style.background = bg;
            document.querySelectorAll('.container').forEach(c => {
                c.style.background = (bg === 'white') ? 'white' : '#1e272e';
                c.style.color = txt;
            });
        } else {
            alert("–ù—É–∂–Ω–æ 50 –º–æ–Ω–µ—Ç!");
        }
    }

    // –°–ª—É—à–∞—Ç–µ–ª—å –Ω–∞–∂–∞—Ç–∏—è Enter
    document.getElementById('user-input').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') checkAnswer();
    });
</script>

</body>
</html>
