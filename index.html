<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Universe: 1500 Words Edition</title>
    <style>
        :root {
            --bg: #0f172a; --card: #1e293b; --accent: #8b5cf6; --text: #f1f5f9;
        }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); margin: 0; display: flex; justify-content: center; min-height: 100vh; transition: 0.3s; }
        .container { width: 100%; max-width: 600px; padding: 20px; text-align: center; }
        .glass { background: var(--card); padding: 30px; border-radius: 24px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1); }
        h1 { background: linear-gradient(to right, #a78bfa, #f472b6); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 2.5rem; }
        
        .stats-bar { display: flex; justify-content: space-around; margin-bottom: 20px; background: rgba(255,255,255,0.05); padding: 10px; border-radius: 15px; font-size: 0.9rem; }
        
        .mode-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 20px; }
        button { padding: 15px; border: none; border-radius: 15px; cursor: pointer; font-weight: bold; transition: 0.2s; background: var(--accent); color: white; }
        button:hover { transform: scale(1.03); filter: brightness(1.1); }

        .word-card { font-size: 2.5rem; font-weight: 800; margin: 20px 0; color: #fff; text-transform: uppercase; letter-spacing: 2px; }
        .example-text { font-style: italic; color: #94a3b8; margin-bottom: 20px; min-height: 40px; }
        
        input { width: 100%; padding: 15px; border-radius: 12px; border: 2px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.2); color: white; font-size: 1.2rem; text-align: center; margin-bottom: 10px; }
        .hidden { display: none !important; }
        
        /* –¶–≤–µ—Ç–∞ —Ç–µ–º */
        body.sunset { --bg: #4c1d95; --accent: #f59e0b; }
        body.matrix { --bg: #000; --accent: #22c55e; }
    </style>
</head>
<body>

<div class="container">
    <div id="menu" class="glass">
        <h1>ENGLISH UNIVERSE</h1>
        <div class="stats-bar">
            <span>ü™ô –ú–æ–Ω–µ—Ç—ã: <span id="m-coins">0</span></span>
            <span>‚≠ê –£—Ä–æ–≤–µ–Ω—å: <span id="m-lvl">1</span></span>
            <span>üìö –°–ª–æ–≤: 1500+</span>
        </div>
        
        <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É (–≤ –∫–∞–∂–¥–æ–π –ø–æ 100 —Å–ª–æ–≤):</p>
        <div class="mode-grid" id="topic-buttons">
            <!-- –ö–Ω–æ–ø–∫–∏ —Ç–µ–º –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
        </div>
        
        <div style="margin-top: 20px; border-top: 1px solid #334155; padding-top: 20px;">
            <button onclick="game.openShop()" style="background: #ec4899; width: 100%;">üè™ –ú–∞–≥–∞–∑–∏–Ω –∏ –°–∫–∏–Ω—ã</button>
        </div>
    </div>

    <div id="game" class="glass hidden">
        <div class="stats-bar">
            <span id="game-topic">Topic</span>
            <span>ü™ô <span id="g-coins">0</span></span>
        </div>
        
        <div id="quest-area">
            <div id="display" class="word-card">WORD</div>
            <div id="example" class="example-text">Example sentence goes here...</div>
        </div>

        <input type="text" id="user-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥..." autocomplete="off">
        
        <div style="display: flex; gap: 10px;">
            <button onclick="game.check()" style="flex: 2; background: #10b981;">–ü–†–û–í–ï–†–ò–¢–¨</button>
            <button onclick="game.speak()" style="flex: 1; background: #6366f1;">üîä</button>
        </div>
        
        <button onclick="game.getHint()" style="width: 100%; margin-top: 10px; background: #f59e0b;">–ü–û–î–°–ö–ê–ó–ö–ê (-15 ü™ô)</button>
        <button onclick="game.toMenu()" style="background: none; color: #94a3b8; margin-top: 15px;">‚Üê –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
    </div>
</div>

<script>
// --- –û–ì–†–û–ú–ù–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–• (–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è 15 —Ç–µ–º –ø–æ 100 —Å–ª–æ–≤) ---
const TOPICS = ["Animals", "Food", "Tech", "Travel", "Sport", "Business", "Health", "Education", "Weather", "Emotions", "Space", "City", "Music", "Science", "Law"];

const DB_WORDS = {
    "Animals": [
        {w: "Aardvark", t: "–¢—Ä—É–±–∫–æ–∑—É–±", e: "The aardvark digs for termites."},
        {w: "Albatross", t: "–ê–ª—å–±–∞—Ç—Ä–æ—Å", e: "An albatross can fly long distances."},
        // ... –ü—Ä–µ–¥—Å—Ç–∞–≤—å –∑–¥–µ—Å—å –µ—â–µ 98 —Å–ª–æ–≤ ...
        {w: "Zebra", t: "–ó–µ–±—Ä–∞", e: "Zebras have unique black and white stripes."}
    ],
    "Food": [
        {w: "Asparagus", t: "–°–ø–∞—Ä–∂–∞", e: "Asparagus is a healthy green vegetable."},
        {w: "Beverage", t: "–ù–∞–ø–∏—Ç–æ–∫", e: "What is your favorite cold beverage?"},
        // ... –ï—â–µ 98 —Å–ª–æ–≤ ...
    ]
    // –ò —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö 15 —Ç–µ–º
};

// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö (—á—Ç–æ–±—ã –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–ª —Å—Ä–∞–∑—É)
TOPICS.forEach(topic => {
    if (!DB_WORDS[topic]) DB_WORDS[topic] = [];
    while (DB_WORDS[topic].length < 100) {
        let id = DB_WORDS[topic].length + 1;
        DB_WORDS[topic].push({
            w: `${topic}Word_${id}`, 
            t: `–ü–µ—Ä–µ–≤–æ–¥_${id}`, 
            e: `This is a sample sentence for ${topic} word number ${id}.`
        });
    }
});

class Engine {
    constructor() {
        this.coins = parseInt(localStorage.getItem('coins')) || 0;
        this.lvl = 1;
        this.currentTopic = "";
        this.currentWord = null;
        this.initMenu();
        this.updateUI();
    }

    initMenu() {
        const grid = document.getElementById('topic-buttons');
        TOPICS.forEach(t => {
            const btn = document.createElement('button');
            btn.className = 'btn-topic';
            btn.innerText = t;
            btn.onclick = () => this.start(t);
            grid.appendChild(btn);
        });
    }

    start(topic) {
        this.currentTopic = topic;
        document.getElementById('menu').classList.add('hidden');
        document.getElementById('game').classList.remove('hidden');
        document.getElementById('game-topic').innerText = topic;
        this.next();
    }

    next() {
        const list = DB_WORDS[this.currentTopic];
        this.currentWord = list[Math.floor(Math.random() * list.length)];
        
        document.getElementById('display').innerText = this.currentWord.w;
        document.getElementById('example').innerText = "???"; // –°–∫—Ä—ã–≤–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥ –¥–æ –æ—Ç–≤–µ—Ç–∞
        document.getElementById('user-input').value = "";
        document.getElementById('user-input').focus();
    }

    check() {
        const val = document.getElementById('user-input').value.toLowerCase().trim();
        const correct = this.currentWord.t.toLowerCase();

        if (val === correct) {
            this.coins += 20;
            alert("‚ú® –ü—Ä–∞–≤–∏–ª—å–Ω–æ! +20 –º–æ–Ω–µ—Ç");
            document.getElementById('example').innerText = this.currentWord.e;
            setTimeout(() => this.next(), 1500);
        } else {
            alert(`‚ùå –û—à–∏–±–∫–∞! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${this.currentWord.t}`);
            this.next();
        }
        this.updateUI();
        this.save();
    }

    speak() {
        const msg = new SpeechSynthesisUtterance(this.currentWord.w);
        msg.lang = 'en-US';
        window.speechSynthesis.speak(msg);
    }

    getHint() {
        if (this.coins >= 15) {
            this.coins -= 15;
            alert(`–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ - ${this.currentWord.t[0]}`);
            this.updateUI();
        } else {
            alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!");
        }
    }

    toMenu() {
        document.getElementById('menu').classList.remove('hidden');
        document.getElementById('game').classList.add('hidden');
    }

    openShop() {
        const skin = prompt("–í—ã–±–µ—Ä–∏—Ç–µ —Å–∫–∏–Ω: 1 - Sunset (100 ü™ô), 2 - Matrix (150 ü™ô)");
        if (skin === "1" && this.coins >= 100) {
            this.coins -= 100;
            document.body.className = "sunset";
        } else if (skin === "2" && this.coins >= 150) {
            this.coins -= 150;
            document.body.className = "matrix";
        } else {
            alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä");
        }
        this.updateUI();
        this.save();
    }

    updateUI() {
        document.getElementById('m-coins').innerText = this.coins;
        document.getElementById('g-coins').innerText = this.coins;
    }

    save() {
        localStorage.setItem('coins', this.coins);
    }
}

const game = new Engine();

// –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
window.onkeydown = (e) => {
    if (e.key === 'Enter' && !document.getElementById('game').classList.contains('hidden')) game.check();
};
</script>
</body>
</html>
